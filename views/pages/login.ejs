<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../partials/head.ejs %>
    <title>Sign In</title>
</head>
<body>
<h1>Sign In</h1>
<% include ../partials/nav.ejs %>
<h2>Enter username and password to log in</h2>
<label for="username">Enter Username:</label>
<input type="text" name="username" id="username" required value=""><br/>
<label for="password">Enter Password:</label>
<input type="password" name="password" id="password" required><br/>
<input type="button" name="login" value="Log In" class="submitButton" onclick="login(username.value, password.value)">
<div id="loginResult">
</div>
</body>
<script>
function login (username, password) {
	var loginDetails = {
		username: username,
		password: password
	}

	$.post("/login", loginDetails function (result) {
		if (result) {
			$(#"loginResult").text("<p class='successMessage'>Logged in as " + username + ".</p>")
		} else {
			$(#"loginResult").text("<p class='errorMessage'>Error logging in.</p>")
		}
	}
}
</script>
</html>